---
title: 'Unit 2 Case Study: Topology over Time'
subtitle: "ECI 589 Social Network Analysis and Education"
author: "Dr. Shaun Kellogg"
date: "`r format(Sys.Date(),'%B %e, %Y')`"
output:
  html_document:
    toc: yes
    toc_depth: 4
    toc_float: yes
editor_options:
  markdown:
    wrap: 72
bibliography: lit/references.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## 1. Prepare

Our Unit 2 Case Study: Hashtag Common Core revisits Alan Daly, Miguel
del Fresno and Christian Kolouch who examined the intense debate
surrounding the Common Core State Standards education reform as it
played out on Twitter. As noted on their expansive and interactive
website for the [#COMMONCORE
Project](https://www.hashtagcommoncore.com), the Common Core was a major
education policy initiatives of the early 21st century that sought to
strengthen education systems across the United States through a set of
specific and challenging education standards. Although these standards
once enjoyed bipartisan support, we'll see later in this walkthrough how
these standards have become a political punching bag.

In addition to investigating tweets around the these controversial state
standards, our Unit 2 Walkthrough will cover the following topics
pertaining to each data-intensive workflow process:

1.  **Prepare**: Prior to analysis, we'll take a look at the context
    from which our data came, formulate some research questions, and get
    introduced the {rtweet} R package for using the Twitter API.

2.  **Wrangle**: Wrangling data entails the work of manipulating,
    cleaning, transforming, and merging data. In section 2 we will learn
    about the {tidygraph} package for creating network objects.

3.  **Explore**: In section 3, we use the {tidygraph} package and the
    companion {ggraph} package to calculate a range of centrality
    measures and learn how to illustrate some of these stats through
    network visualization.

4.  **Model**: We wrap up our analysis in Section 4 by introducing
    community detection and sentiment analysis algorithms for
    identifying groups and gauging sentiment about the common core.

5.  **Communicate**: We briefly reflect on our walkthrough in
    preparation for our independent analysis next week.

### Review the Research

In [Social Network Analysis and Education: Theory, Methods &
Applications](https://methods.sagepub.com/book/social-network-analysis-and-education)
@carolan2014 makes the following distinctions between mathematical and
statistical approaches to social network analysis:

> **Mathematical approaches** focus on what a network of actors "looks
> like" by describing the network using sociograms and/or network
> measures such as reciprocity, centrality, and density. However, these
> approaches "tend to regard the measured relationships and their
> strengths as accurately reflecting the real, final, or equilibrium
> status of the network."

For Unit 3, we move beyond previous "mathematical approaches"

Specifically, we will try to replicate the P\* models used in Chapter 9
of @carolan2014 in order to test hypotheses about individual and network
characteristics that may explain who school leaders select for
collaboration and confidential exchanges.

#### Research Questions

For this walkthrough, we will be using school leadership data were
collected at two school districts over 3 consecutive years that was used
to answer the following research questions:

1.  Is there a relationship between the frequency of collaboration
    between school leaders and how often they turn to each other to
    discuss issues of a confidential nature?
2.  Do school leaders prefer to collaborate with those with whom they
    have collaborated in the past, or is there some other reason?
3.  Does gender or some other individual attribute predicts confidential
    exchanges between school leaders, or does some previous relation
    have a stronger effect?
4.  Does collaboration between leaders explain one's level of trust in
    one's administrative colleagues?
5.  Can we distinguish among different groups of school leaders based on
    how frequently they collaborate, and if so, are these groupings
    related to the level at which they work (school versus district)?

#### Data Collection

For each consecutive year, school district leaders were invited to
complete a survey that collected individual:

-   **Demographic information** (e.g., gender, ethnicity, marital
    status, age, years of experiences);

-   **Network relationships types** (e.g., collaboration, confidential
    exchanges, energy, expertise, leaders approached for support,
    work-related issues, input, recognition, best practices, and
    innovation);

-   **Frequency of interactions** they have with those nominated
    individuals on a four-point frequency scale ranging from 1 (the
    least frequent) to 4 (1--2 times a week);

-   **Leadership efficacy** items were designed based on the Principal
    Efficacy Scale used in Daly et al. (2011) and Tschannen-Moran and
    Gareis's (2004) studies. The efficacy scale includes 18 items rated
    on a 9-point Likert scale ranging from 1 (None at all) to 9 (A great
    deal);

-   **Trust** scale contains eight items rated on a 7-point Likert scale
    ranging from 1 (Strongly disagree) to 7 (Strongly agree) modified
    from Tschannen-Moran and Hoy (2003).

#### Analyses

#### Key Findings

In response to research questions 1 & 2 from above, Carolyn reported
that "while collaboration in year 1 does not significantly predict
collaboration in year 3, confidential exchanges in year 1 does" and
suggested that "collaboration among school leaders provides an important
foundation for more sensitive, perhaps even deeper, relations (e.g.,
confidential exchanges) at a later point in time."

### 

For our Unit 3 Walkthrough, we focus specifically on generative
processes, or micro-level mechanisms, the might help explain who school
leaders select to collaborate with or engage in confidential exchanges.
Review Chapter 9 of SNA and Education and report out on the findings
from the ERGM analysis in response to Research Question 3 below:

3.  **Does gender or some other individual attribute predicts
    confidential exchanges between school leaders, or does some previous
    relation have a stronger effect?**

    -   YOUR RESPONSE HERE

Based on what you know about networks and the context so far, what other
specific question(s) might the data and analyses described allow you to
address. For example, the concept of homophily, or the tendency for
people to seek out or form ties to those who are similar to themselves,
was introduced in our readings and hypotheses about homophily can easily
be tested using using ERGMs:

-   YOUR RESPONSE HERE

Save this question for later as you'll have a chance to empirically test
it by the end of this walkthrough.

### **ðŸ‘‰ Your Turn** **â¤µ**

Load Packages

```{r cars}
library(readxl)
library(tidyverse)
library(igraph)
library(tidygraph)
library(ggraph)
library(janitor)
library(knitr)
library(DT)
```

\

## Wrangle

You can also embed plots, for example:

### Import Data

One of our primary goals is to replicate the ERGM analysis from Chapter
9: Network Data and Statistical Models [@carolan2014]. Specifically,
we'll aim to examine an

To do so, we'll need to import two Excel files from the [Social Network
Analysis and Education companion
site](https://studysites.sagepub.com/carolan/study/resources.htm). The
first file contains our edges stored as a square matrix (more on this
later) and the second file is a standard rectangular data frame that
contains attributes for each node, i.e. school leaders. These files are
included in the data folder of your R Studio project. A description of
each file from the companion website is linked above and each data file
is linked below:

1.  [**School Leaders Data Chapter
    9_a.**](https://studysites-sagepub-com.prox.lib.ncsu.edu/carolan/study/materials/datasets/99472_ds7.xls)Â This
    adjacency matrix reports on "collaboration" ties among 43 school
    leaders in year 1 of a three-year study. This is a directed valued
    (weighted) network measured on five-point scale ranging from 0 to 4,
    with higher values indicating more frequent collaborations (1--2
    times/week). These data are used throughout Chapter 9.

2.  [**School Leaders Data Chapter
    9_b.**](https://studysites-sagepub-com.prox.lib.ncsu.edu/carolan/study/materials/datasets/99472_ds8.xlsx)Â This
    adjacency matrix reports on "collaboration" ties among 43 school
    leaders in year 3 of a three-year study. This is a directed valued
    (weighted) network measured on five-point scale ranging from 0 to 4,
    with higher values indicating more frequent collaborations (1--2
    times/week).Â 

Recall from above that our relations, or edges, are stored as a valued
[adjacency matrix](https://en.wikipedia.org/wiki/Adjacency_matrix) in
which columns and rows consist of the same actors and each cell contains
information about the tie between each pair of actors. In our case, the
tie is a directed and valued "arc" where the value indicates the
strength of the relationship.

Use the `read_excel()` function to import the
`School Leaders Data Chapter 9_d.xlsx` file, add an argument setting the
column names to `FALSE` since our file is a simple matrix with no header
or column names, and assign the matrix to a variable named
`leader_matrix`:

**Hint:** Type `?read_excel` into the console and check the arguments
section to find the name of the argument used to set column headers.

```{r import year }
year_1_collaboration <- read_excel("data/year_1_collaboration.xlsx", 
                            col_names = FALSE)
```

Use the code chunk below to inspect the matrix you just imported and
answer the questions that follow:

### \*\* ðŸ‘‰ Your Turn\*\* **â¤µ**

**Hint:** Type `?read_excel` into the console and check the arguments
section to find the name of the argument used to set column headers.

```{r}
#YOUR CODE HERE
leader_matrix <- read_excel("data/School Leaders Data Chapter 9_d.xlsx", 
                            col_names = FALSE)
```

Use the code chunk below to inspect the matrix you just imported and
answer the questions that follow:

```{r}
class(year_1_collaboration)

year_1_collaboration
```

1.  Is our network a square matrix? What does this tell you about the
    number of nodes in our network?

    -   

2.  Does our network contain self-loops? How do you know?

    -   

3.  What do the values in each cell of our matrix indicate?

    -   

With that in mind, and before we can dichotomize our "matrix," we first
need to convert it to a matrix object recognized by R using the
`as.matrix()` function. We can then check to data format of our
`leader_matrix` using the `class()` function:

```{r}
year_1_matrix <- year_1_collaboration |>
  as.matrix()

class(year_1_matrix)

year_1_matrix
```

\

### Add Row and Column Names

Before we can convert to an edge-list, we will also need to add the
names of our nodes to the columns and rows of our matrix. These are
stored in the `ID` column of our `leader_node` data frame. We can use
the `$` operator to select these names and assign to our `leader_matrix`
using the `rownames()` and `colnames()` functions respectively:

```{r}
rownames(year_1_matrix) <- 1:43

colnames(year_1_matrix) <- 1:43

year_1_matrix
```

### Network Object

```{r}


year_1_network <- as_tbl_graph(year_1_matrix, directed = TRUE)

year_1_network
```

### ðŸ‘‰ Your Turn â¤µ

```{r}

```

## Explore

### Describe the Network Visually

```{r}

ggraph(year_1_network, layout = "fr") +
  geom_node_point() +
  geom_edge_link()

```

### **ðŸ‘‰ Your Turn** **â¤µ**

```{r}

```

### Describe the Network Mathematically

The concepts and measures that are discussed in this chapter reflect a
variety of structural properties that have been of interest to network
researchers for some time. This chapter allows you to ask a question
that has been at the core of most network analyses: What does this
network look like? Understanding these properties will eventually allow
you to assess a network's dynamics (Hanneman & Riddle, 2011b). So, if a
network of 25 teachers in the same school has few connections (low
density), does this structure look the same a year after the
introduction of teacher professional communities? To address questions
that probe a network's dynamics (i.e., its change over time), it is
necessary to first figure out what the network looks like at one point
in time, what is commonly referred to as the network's topography. This
chapter will provide the conceptual tools and precise measures that are
needed to perform this first set of analytical steps.

This chapter introduces the formal algorithms that precisely describe
these key features of social networks.

Social network and graph theorists have developed an array of indices to
characterize these features. These indices rely on some basic---and
not-so-basic---mathematical computation. There is no way to avoid this
fact without distorting and oversimplifying the advances made by
mathematics, specifically graph theory and algebra, to the study of
social networks (a point established in Chapter 2). However, an effort
is made not to let this fact get in the way of your understanding and
application of these concepts and measures. The rest of this chapter
introduces the most common ways in which features of complete networks
are described, first starting with a set of basic network measures,
then, in Chapter 6, moving on to the ways in which subgroups are derived
from relational data and, finally, the related ideas of positions and
roles.

Network-level structural measures are those that are calculated from the
entire network. Therefore, they provide an excellent snapshot of the
network's structure---the pattern of relations among the network's
actors.

This section introduces seven indicators of network structure. In
addition to providing a more global view, these indicators can be used
to address questions such as whether the friendship, social support, and
adviceseeking networks within the same fraternity, for example, are
comparable.

#### Network Size

The simplest structural property of a social network is its size, an
often ignored but important feature. Size plays an important role in
determining what happens in the network---what resources are exchanged
among actors, for example. In a network of 17 students, it is not hard
to imagine that the pattern of who studies with whom, for example, would
look much different than if the network consisted of 200 students. Size
affects other network measures, but on a conceptual level, it influences
the structure of relations, as actors only have so many resources and
capacities for creating and maintaining ties with others. Also, in
smaller networks, it is easier for actors to know each other. In formal
terms, size is simply a measure of the number of nodes in the network.
In the case of the Fraternity Data, it is not a terribly interesting
property, as it simply reflects the network's boundary.

```{r}

year_1_network


year_1_network |>
  gsize()

gsize(year_1_network)


```

#### Density

Density is intricately linked to network size. Density refers to the
number of ties in the network reported as a fraction of the total
possible number of ties. Equation 5.1 below shows how a network's
density is calculated: where L is the number of lines (directed ties) in
the network and N is network size. So, in the Fraternity Data with 17
actors and 51 directed ties, density equals 0.19. The closer this number
is to 1.0, the denser the network. A density score of 1.0 indicates that
all possible relations are present.

It is also possible to calculate the density of the network's subgroups.
For example, you might hypothesize that network density differs by some
attribute, GPA, for example. That is, students with denser friendship
networks might have access to resources---class notes, information about
upcoming assignments, support, and so forth---that may contribute to
their academic performance. Density could be calculated on ties among
those with GPAs above 3.0 and then compared to those below that
threshold.

However, the density of 0.19 reported above is somewhat deceptive, at
least in terms of what it means for the Fraternity Data set. This
formula needs to be adjusted to account for the limited number of
friendship nominations (three) that was imposed when the data were
recoded. In a nomination study in which you ask SAGE 2014 SAGE
Publications, Ltd. All Rights Reserved.

SAGE Research Methods Page 6 of 13 Structural Measures for Complete
Networks the respondent to list a certain number of alters (or you
impose this limit after the data have been collected), it is more
sensible to report what is referred to as effective density, which is
the number of lines (ties) multiplied by the number of possible alters:
where L again is the number of lines (directed ties) in the network, N
is network size, and Î» is the maximum number of alters requested or
permitted. Using this formula, the density of the Fraternity Data is
1.0: All possible relations are present, which is unsurprising given
that the original ranked data were recoded (1--3 = 1, all others = 0)
and each respondent had the maximum number of three friendship
nominations.\

```{r}

year_1_network |>
  edge_density()

edge_density(simplify(year_1_network))

graph.density(year_1_network)
```

#### Reciprocity

A third network measure that indicates an aspect of the networks social
structure is reciprocity, defined as the degree to which actors in a
directed network select one another. Stated another way, reciprocity
indicates the mutuality of the network's ties (this is why reciprocity
is also referred to as mutuality). This property is important because it
reveals the direction through which resources such as help, advice, and
support flow. It also indicates the network's stability, as reciprocated
ties tend to be more stable over time. Finally, networks with high
reciprocity may be more "equal," while those with lower reciprocity may
be more hierarchical. While some relations are by definition reciprocal,
such as "studied with," others such as friendship are potentially
asymmetrical and indicate imbalances in influence, status, or authority.
Borgatti, Everett, and Freeman (2006) provide the following measure of
reciprocity: where Aij indicates a tie from actor i to j. A high degree
of reciprocity means that a network's actors choose one another. It
could also mean that while some actors choose one another, they are not
choosing others, which results in a high degree of clustering within the
network. At the complete network level, reciprocity is reported as the
proportion of reciprocated ties in the network. Therefore, values closer
to 1.0 indicate higher reciprocity. Applying Equation 5.3 to the
Fraternity Data, reciprocity for the entire network is 0.31, indicating
that slightly less than one-third of all ties are mutual. This low value
should be considered unsurprising, as this particular network snapshot
was taken at the beginning of the study, well before the participants
got to know each other. One could reasonably expect that the network's
reciprocity, as well as its density, will increase over time, which
would be associated with a greater likelihood of engaging in behavior
together and sharing similar attitudes. For example, Moolenaar and
Sleegers (2010) hypothesize that teacher networks with high reciprocity
would be positively associated with teachers' perceptions of their
schools' innovative climate and trust. Their analyses, however, do not
support this hypothesis. According to their models, dense networks SAGE
2014 SAGE Publications, Ltd. All Rights Reserved. SAGE Research Methods
Page 7 of 13 Structural Measures for Complete Networks (on two different
network relations: "discuss work" and "regard as friend") are
significantly related to both a teacher's perceptions of trust and the
school's innovative climate, while reciprocity is not. However, despite
this null finding, others have shown that networks with high reciprocity
are associated problem solving and the exchange of complex knowledge
(Uzzi & Spiro, 2005) but are also associated with less desirable
outcomes such as risky drug and sexual behaviors (Valente & Vlahov,
2001).

```{r}

year_1_network |>
  reciprocity()

year_1_network |>
  activate(edges) |>
  mutate(reciprocated = edge_is_mutual()) |>
  as_tibble()



```

#### Transitivity

Transitivity is another feature of complete networks that reflects the
social structure's tendency toward stability and consistency. Whereas
reciprocity focuses on the ties between two actors (dyads), transitivity
is based on the triad, any "triple" of actors. The addition of this
third "other" reflects a more authentic character of social life and has
been the basis for much theorizing about social networks (Simmel,
1908/1950). Much of this theorizing revolves around a triad's tendency
toward transitivity: if Teacher A collaborates with Teacher B and
Teacher B collaborates with Teacher C, then Teacher A collaborates with
Teacher C. In this instance, the triad is considered transitive because
Teachers A and B have the same relationship with C.

Valente (2010) notes that early theorizing about this tendency focused
on the concept of balance, first introduced by Heider (1958) to explain
a person's observed preference for equilibrium with the people around
them. The theory of cognitive dissonance grew out of this work,
attempting to explain how people felt when their immediate environment
was unbalanced (Festinger, 1954). The argument then extended to
postulate that increasing the number of transitive triads of which one
is a part could reduce cognitive dissonance. Even Granovetter's strength
of weak ties theory (1973) emerged from this work, showing that
intransitive triads are relatively rare, resulting in networks with
fewer weak ties. The paradox, of course, is that the relative paucity of
weak ties is what makes them "strong," as they provide early access to
diverse information.

Measuring triadic relations within a network of undirected (symmetric)
relations is straightforward (Hanneman & Riddle, 2011b). There are only
four possible types of triadic relations: no ties, one tie, two ties, or
all three ties. Performing what is called a "triad census" on these data
can reveal the extent to which the network can be characterized as
consisting of isolates (actors not connected to any other actors), dyads
(actors who are only connected to one other actor), structural holes
(one actor connected to two others who, in turn, are not connected to
each other), and clusters (groups of three actors that are all connected
to each other). With undirected data, one can simply count how often
each of these four types occurs across all possible triples.

However, things get more interesting when performing a triad census on
directed data, such as the transformed Fraternity Data. There are 16
possible types of relations among any three of the network's actors
(Holland & Linehardt, 1979). Different forms of relationships can be
observed among these groups, including hierarchy, equality, and
exclusivity. This is one of the reasons why researchers with an interest
in social group relations suggest that the most fundamental forms of
social relationships can be observed at the triadic level.

A triad census for a network with directed data counts the proportion of
triads that fall within each of these 16 categories. These categories
are typically called MAN categories, which reflects the number of mutual
(M), SAGE 2014 SAGE Publications, Ltd. All Rights Reserved.

SAGE Research Methods Page 8 of 13 Structural Measures for Complete
Networks asymmetric (A), and null (N) ties in each triad. Therefore, a
triad with a code of 111 would have one mutual tie, one asymmetric, and
one null tie, indicating that one actor serves as a go-between for the
triad's other two actors. Of these 16 possible types of directed triads,
only four can be classified as transitive (Wasserman & Faust, 1994). In
the Fraternity Data there are, for example, five 030 triads (zero
mutual, three asymmetric, and zero null ties); these triads are
considered transitive because Students 1 and 2 have the same
relationship to 3.

Going one step further, a transitivity analysis divides a network's
number of transitive triads by the number of triads of all kinds. More
formally, the density of transitive triples is the number of triples,
which are transitive, divided by the number of paths of length two
(i.e., the number of triples that have the potential to be transitive).

In the Fraternity Data, this value is 10.70%. This lack of transitivity
suggests that there are numerous null ties, indicating a relatively
sparse network in which resources will have difficulty flowing from one
part of the network to another. This is not too surprising given that
these relations were measured at the start of the study (week 1) and, as
a result of the data transformation, each actor has three out-degrees
(that is, they sent three friendship nominations). Here, too, this can
be attributed to a measurement issue. Faust (2008) has shown that
fixed-choice survey instruments (recall that these manipulated data
"fixed" the number of friendship nominations to three), artificially
limit the triad census and the subsequent analysis of transitivity.
Regardless, establishing a network's transitivity is important, as it is
theoretically connected to actors' tendencies to divide into exclusive
subgroups over time, especially relational data that capture positive
affect, such as friendship.

```{r transitivity}

year_1_network |>
  transitivity()
```

```{r}
count_triangles(year_1_network)
```

```{r}
triad_census(year_1_network) |>
  as_tibble()
```

#### Diameter and Distance

Similarly, the next two network-level properties, diameter and distance,
also indicate how well resources can move from one part of the network
to another. Whereas transitivity focuses on the importance of certain
configurations of triads, these two related concepts are more
straightforward. A network's diameter refers to the longest path between
any two actors. This property is important, as networks that have the
same size (equal numbers of actors) and even the same density (equal
percentages of ties present) can have different diameters. Consider the
network's diameter in Figure 5.1. The length of the longest path between
two actors is five. To "get from" Student 15 to 16 in this directed
network requires five steps: 15 ? 5 ? 17 ? 4 ? 2 ? 16.

This is the only five-step path in the network and is the maximum
distance between any two actors.

Related to this is another property that captures how "far" actors are
from one another. The average path length measures the mean distance
between all pairs of actors in the network. When this value is small,
this indicates that there is a cohesive network with minimal clustering.
Conversely, when this value is high, the network likely has little
cohesion, thereby making it difficult for resources---whether these
resources be advice, trust, information, or the like---to move from one
part of the network to another. The average path length in the
Fraternity Data is 2.18. The interpretation of this is that, on average,
all students in the network are slightly more than two steps from
everyone else in the network, assuming they could reach one another (an
assumption that is incorrect given that there are no paths between some
pairs of students). To calculate SAGE 2014 SAGE Publications, Ltd. All
Rights Reserved.

SAGE Research Methods Page 9 of 13 Structural Measures for Complete
Networks this, you first have to identify the distances between each
pair of actors in the network and then calculate the average of all
these pairs.

Both diameter and average path length are important network-level
structural properties. Valente (2010) goes as far as to note that you
need not know anything else about a network's topography to draw several
important conclusions. For example, a network with a large diameter and
small average path length suggests a structure in which there are parts
of the network that some network actors may be unable to access.

```{r diameter}
diameter(simplify(year_1_network))
```

```{r distance}

distances(year_1_network) |>
  as_tibble()

distance_table(year_1_network)
```

```{r}
mean_distance(year_1_network)
```

#### Clustering

Another structural network-level property that is of interest to network
researchers is a network's clustering.

Clustering is a measure of a network's actors' tendency to "group
together" into pockets of dense connectivity (Valente, 2010). High
clustering indicates that there are numerous pockets in which some
actors are connected to each other but not to others. Low clustering, on
the other hand, suggests that relations are more evenly distributed
across the network with very few pockets of dense connectivity among
subsets of actors. The tendency, of course, is for people to interact
with a fairly small set of actors who share similar attributes---the
"birds of a feather flock together" (homophily) phenomenon. Knowing the
degree to which actors cluster says a great deal about the structure of
these everyday relations, a structural pattern that may even seem
somewhat paradoxical (Watts, 1999). This is related, in part, to what is
referred to as the smallworld phenomenon.

The small-world phenomenon combines two ideas (Valente, 2010). The first
is a network with a short average path length. That is, relatively few
steps connect each pair of actors, on average. The second part of this
is that "small-world" networks also have a high degree of
clustering---groups of actors who interact almost exclusively in their
own immediate "neighborhoods." This second part is the network's
tendency to form dense local pockets of connectivity: clusters. "Small
worlds" are those that paradoxically have a low average path length but
high clustering.

Measuring the extent to which a network displays clustering involves two
steps. First, one calculates the density of each actor's local
neighborhood (the density of each ego's network, which equals the total
number of ties present divided by the total number of possible ties).
Then, after doing this for all actors in the network, the degree of
clustering can be characterized by the average of all the ego
neighborhoods in the complete network.

```{r}
clusters(year_1_network)
```

#### Centralization

A final structural property of complete networks is centralization. A
network that is highly centralized is one in which relations are focused
on one or a small set of actors. This is, however, different than a
structural property such as density, which measures the presence of
relations, not whether they are focused on a small set of actors. In
other words, a network can be dense but have low centralization (many
relations that are spread evenly across the network's actors) and vice
versa (few relations that are concentrated on a small set of actors).
Networks that are centralized, regardless of their density, are ones in
which only a small and exclusive set of actors hold positions of power
and control. Decentralized networks, conversely, are those in which
power and control are diffuse and spread over a number of actors.

Centralization can be based on a number of metrics (these are discussed
in Chapter 7 when individual ego centrality measures are introduced),
with degree being one of the most common (Freeman, 1979). Degrees refers
to the number of ties an actor either sends (out-degree) or receives
(in-degree). Valente (2010) summarizes the calculation of network
centralization.

> A network's centralization affects the process through which resources
> traverse the network... high centralization provides fewer actors with
> more power and control.

Imagine if Students 12, 11, and 17 have information about what was to be
included on an upcoming exam. Their location can either accelerate or
prevent the spread of that information to other students. These central
actors likely wield a disproportionate amount of influence on the
network. Therefore, high centralization provides fewer actors with more
power and control.

```{r}
year_1_network |>
  activate(nodes)|>
  mutate(degree = centrality_degree(mode = "all")) |>
  centalizatio.degree
```

```{r}
centralization.degree(year_1_network, mode = "all")
```

## 4. Model

Two modeling techniques unique to network analysis and demonstrated in
Chapter 9 of \@carolan2014 are the quadratic assignment procedure (QAP)
and Exponential Random Graph Models (ERGM):

-   **QAP/MR:** The quadratic assignment procedure (QAP) developed by
    Hubert (1987) and Krackhardt (1987b) tests the null hypothesis of no
    correlation between the two networks and adjusts for this dependence
    between networks by repeatedly permuting the order of rows and
    columns of one of the networks while keeping the other network
    intact. The QAP is based on regression models and permutation tests
    for valued (i.e., continuous) relational variables.

-   **P1 and P\* (P-Star):** Both of these models are some of the first
    to make use of the ERGM, which provides a basis for comparing
    whether a network's observed structural properties occur more
    frequently than you could expect from chance alone. ERGMs can be
    used to model ties in complete networks but do so in a manner that
    explains the presence (or absence) of ties as a function of
    individual-and/or network-level characteristics. While QAP and
    MR-QAP procedures control for network structure through
    permutations, these ERGMs attempt to explain it.

## 5. Communicate
